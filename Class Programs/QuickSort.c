#include <stdio.h>


/*printing for an array*/
void printArray(int *A, int n)
{
    for (int i = 0; i < n; i++)
    {
        printf("%d ", A[i]);
    }
    printf("\n");
}


/* The major helper function for Quick Sort Function */
int partition(int A[], int low, int high)
{ 
    int pivot = A[low]; // Making the pivot point where the things would happen i.e. the elements smaller them would go towards the left and the elements bigger then them would go towards the right 
    int i = low + 1;
    int j = high;
    int temp;

    do
    {
        while (A[i] <= pivot) // basically the i pointer checks for smaller numbers 
        {
            i++;
        }

        while (A[j] > pivot) // bascially checking for the the numbers which are greater than pivot point 
        {
            j--;
        }

        if (i < j) // if i is less than j then swap the elements
        {
            temp = A[i];
            A[i] = A[j];
            A[j] = temp;
        }
    } while (i < j);

    // Swap A[low] and A[j]
    temp = A[low];
    A[low] = A[j];
    A[j] = temp;
    return j;
}

void quickSort(int A[], int low, int high)
{
    int partitionIndex; // Index of pivot after partition

    if (low < high)
    {
        partitionIndex = partition(A, low, high); 
        quickSort(A, low, partitionIndex - 1);  // sort left subarray 
        quickSort(A, partitionIndex + 1, high); // sort right subarray
    }
}

int main()
{
    //int A[] = {3, 5, 2, 13, 12, 3, 2, 13, 45};
    int A[] = {9, 4, 4, 8, 7, 5, 6};
    // 3, 5, 2, 13, 12, 3, 2, 13, 45
    // 3, 2, 2, 13i, 12, 3j, 5, 13, 45
    // 3, 2, 2, 3j, 12i, 13, 5, 13, 45 --> first call to partition returns 3
    int n = 9;
    n =7;
    printArray(A, n);
    quickSort(A, 0, n - 1);
    printArray(A, n);
    return 0;
}
